import sys
sys.path.append(".")
import re


def test_TratamentoFiltros():
    
    
    resultado_esperado = ['economiza freteEm carrinhos de comprasFrete grátisMilhares de produtos do mundo todo na sua casaMarcaSamsung', 'Xiaomi', 'Motorola', 'Apple', 'LG', 'Positivo', 'Multilaser', 'Nokia', 'Realme', 'Mostrar maisModeloPoco C65', '13C', '14c', 'Note 13 Pro 5G', 'iPhone 11', 'iPhone 12', 'A3', 'P41', 'Mostrar maisMemória internaMenos de 32 GB', '32 a 127 GB', '128 a 255 GB', '256 a 511 GB', '512 GB ou mais', 'CondiçãoNovo', 'Usado', 'Recondicionado', 'Tipo de envio', 'Custo do freteFrete grátis', 'PreçoAté R$ 600', 'R$600 a R$1.000', 'Mais de R$1.000', 'PagamentoParcelamento sem juros', 'DescontosMais de 5% OFF', 'Mais de 10% OFF', 'Mais de 15% OFF', 'Mais de 20% OFF', 'Mais de 25% OFF', 'Mais de 30% OFF', 'Mais de 40% OFF', 'Mais de 50% OFF', 'Lojas oficiaisSomente lojas oficiais', 'Origem do freteLocal', 'Internacional', 'LocalizaçãoSão Paulo', 'Minas Gerais', 'Paraná', 'Rio Grande do Sul', 'Santa Catarina', 'Bahia', 'Rio de Janeiro', 'Mato Grosso do Sul', 'Goiás', 'Mostrar maisMemória RAMMenos de 3 GB', '3 a 5 GB', '6 a 11 GB', '12 GB ou mais', 'Rede móvel2G', '3G', '4G', '5G', '4G/LTE', 'LinhaRedmi', 'Galaxy A', 'Moto G', 'Galaxy S', 'POCO', 'Moto E', 'K Series', 'Galaxy', 'Galaxy J', 'Mostrar maisTamanho da telaMenos de 6,1 "', '6,1 a 6,4 "', '6,5 a 6,57 "', '6,67 a 6,74 "', '6,74 " ou mais', 'Resolução da câmera traseira principal13 Mpx ou menos', '13 a 49 Mpx', '50 a 63 Mpx', '64 Mpx ou mais', 'Resolução da câmera frontal principal8 Mpx ou menos', '8 a 9 Mpx', '10 a 19 Mpx', '20 Mpx ou mais', 'OperadoraDesbloqueado', 'Vivo', 'Claro', 'TIM', 'Nextel', 'Oi', 'Nome do sistema operacionalAndroid', 'iOS', 'KaiOS', 'Symbian', 'Nokia', 'S30+', 'BlackBerry OS', 'Windows Phone', 'Andriod/Redmagic', 'Detalhes do anúncioMelhores vendedores', 'Outras pessoas pesquisaramcelular ate 500 00celular ephonecelular xiani notecekucelular 📲']
    
    resultado = TratamentoFiltros('economiza freteEm carrinhos de comprasFrete grátisMilhares de produtos do mundo todo na sua casaMarcaSamsung(966)Xiaomi(864)Motorola(626)Apple(336)LG(190)Positivo(160)Multilaser(142)Nokia(122)Realme(70)Mostrar maisModeloPoco C65(221)13C(161)14c(131)Note 13 Pro 5G(97)iPhone 11(89)iPhone 12(72)A3(51)P41(51)13(42)Mostrar maisMemória internaMenos de 32 GB(1.500)32 a 127 GB(2.006)128 a 255 GB(2.168)256 a 511 GB(1.989)512 GB ou mais(429)CondiçãoNovo(4.357)Usado(2.023)Recondicionado(1.734)Tipo de envio(365)Custo do freteFrete grátis(9.949)PreçoAté R$ 600(3.673)R$600 a R$1.000(2.909)Mais de R$1.000(5.197)PagamentoParcelamento sem juros(7.618)DescontosMais de 5% OFF(2.080)Mais de 10% OFF(1.541)Mais de 15% OFF(1.124)Mais de 20% OFF(767)Mais de 25% OFF(554)Mais de 30% OFF(382)Mais de 40% OFF(193)Mais de 50% OFF(59)Lojas oficiaisSomente lojas oficiais(1.096)Origem do freteLocal(8.106)Internacional(29)LocalizaçãoSão Paulo(8.219)Minas Gerais(1.156)Paraná(584)Rio Grande do Sul(497)Santa Catarina(261)Bahia(235)Rio de Janeiro(235)Mato Grosso do Sul(159)Goiás(159)Mostrar maisMemória RAMMenos de 3 GB(2.134)3 a 5 GB(2.384)6 a 11 GB(2.997)12 GB ou mais(578)Rede móvel2G(425)3G(395)4G(344)5G(1.985)4G/LTE(4.314)LinhaRedmi(1.139)Galaxy A(816)Moto G(629)Galaxy S(420)POCO(331)Moto E(225)K Series(212)Galaxy(195)Galaxy J(174)Mostrar maisTamanho da telaMenos de 6,1 "(1.862)6,1 a 6,4 "(1.309)6,5 a 6,57 "(1.521)6,67 a 6,74 "(1.390)6,74 " ou mais(1.037)Resolução da câmera traseira principal13 Mpx ou menos(1.725)13 a 49 Mpx(2.087)50 a 63 Mpx(1.696)64 Mpx ou mais(1.326)Resolução da câmera frontal principal8 Mpx ou menos(1.449)8 a 9 Mpx(1.458)10 a 19 Mpx(2.537)20 Mpx ou mais(820)OperadoraDesbloqueado(7.771)Vivo(157)Claro(119)TIM(42)Nextel(25)Oi(17)Nome do sistema operacionalAndroid(6.134)iOS(697)KaiOS(38)Symbian(29)Nokia(25)S30+(17)BlackBerry OS(12)Windows Phone(8)Andriod/Redmagic(4)Detalhes do anúncioMelhores vendedores(4.387)Outras pessoas pesquisaramcelular ate 500 00celular ephonecelular xiani notecekucelular 📲')
    assert set(resultado) == set(resultado_esperado)
    
def TratamentoFiltros(filtro):
        filtro = re.sub(r'\(.*?\)', '  ', filtro)
        filtro = filtro.split('  ')
        # filtro = filtro.replace('\n','')
        filtro = list(filter(None, filtro))
        filtro = [item.replace('\n', '') for item in filtro if any(char.isalpha() for char in item)]
        print(filtro)
        return filtro
    